{
  "hosting": {
    "site": "structured-output",
    "public": "packages/frontend/out",
    "rewrites": [
      { "source": "/api/validate", "function": "validate" },
      { "source": "/api/fix", "function": "fix" },
      { "source": "/models", "destination": "/models.html" },
      { "source": "/why", "destination": "/why.html" }
    ]
  },
  "functions": {
    "source": "packages/backend/.deployed",
    "runtime": "nodejs22",
    "predeploy": [
      "pnpm --filter @ssv/backend build",
      "pnpm --filter @ssv/backend deploy --prod --force packages/backend/.deployed",
      "pnpm --filter @ssv/backend strip-dev"
    ]
  },
  "emulators": {
    "functions": { "port": 5001 },
    "hosting": { "port": 5050 }
  }
}
